Search.setIndex({"alltitles": {"Indices and tables": [[10, "indices-and-tables"]], "Module contents": [[0, "module-ds_fastapi_middleware"], [1, "module-ds_fastapi_middleware.config"], [2, "module-ds_fastapi_middleware.errors"], [3, "module-ds_fastapi_middleware.middlewares"], [4, "module-ds_fastapi_middleware.models"], [5, "module-ds_fastapi_middleware.utils"], [6, "module-ds_fastapi_middleware.utils.authorization"], [7, "module-ds_fastapi_middleware.utils.aws"], [8, "module-ds_fastapi_middleware.utils.log"], [9, "module-ds_fastapi_middleware.utils.usage"]], "Submodules": [[1, "submodules"], [3, "submodules"], [4, "submodules"], [5, "submodules"], [7, "submodules"], [8, "submodules"], [9, "submodules"]], "Subpackages": [[0, "subpackages"], [5, "subpackages"]], "Welcome to ds-fastapi-middleware\u2019s documentation!": [[10, "welcome-to-ds-fastapi-middleware-s-documentation"]], "ds_fastapi_middleware": [[11, "ds-fastapi-middleware"]], "ds_fastapi_middleware package": [[0, "ds-fastapi-middleware-package"]], "ds_fastapi_middleware.config package": [[1, "ds-fastapi-middleware-config-package"]], "ds_fastapi_middleware.config.config module": [[1, "module-ds_fastapi_middleware.config.config"]], "ds_fastapi_middleware.errors package": [[2, "ds-fastapi-middleware-errors-package"]], "ds_fastapi_middleware.middlewares package": [[3, "ds-fastapi-middleware-middlewares-package"]], "ds_fastapi_middleware.middlewares.audit module": [[3, "module-ds_fastapi_middleware.middlewares.audit"]], "ds_fastapi_middleware.middlewares.ctx module": [[3, "module-ds_fastapi_middleware.middlewares.ctx"]], "ds_fastapi_middleware.middlewares.timeout module": [[3, "module-ds_fastapi_middleware.middlewares.timeout"]], "ds_fastapi_middleware.middlewares.usage module": [[3, "module-ds_fastapi_middleware.middlewares.usage"]], "ds_fastapi_middleware.models package": [[4, "ds-fastapi-middleware-models-package"]], "ds_fastapi_middleware.models.audit module": [[4, "module-ds_fastapi_middleware.models.audit"]], "ds_fastapi_middleware.models.usage module": [[4, "module-ds_fastapi_middleware.models.usage"]], "ds_fastapi_middleware.utils package": [[5, "ds-fastapi-middleware-utils-package"]], "ds_fastapi_middleware.utils.authorization package": [[6, "ds-fastapi-middleware-utils-authorization-package"]], "ds_fastapi_middleware.utils.aws package": [[7, "ds-fastapi-middleware-utils-aws-package"]], "ds_fastapi_middleware.utils.aws.client_factory module": [[7, "module-ds_fastapi_middleware.utils.aws.client_factory"]], "ds_fastapi_middleware.utils.aws.sqs module": [[7, "module-ds_fastapi_middleware.utils.aws.sqs"]], "ds_fastapi_middleware.utils.dependency_injection module": [[5, "module-ds_fastapi_middleware.utils.dependency_injection"]], "ds_fastapi_middleware.utils.internal_traffic module": [[5, "module-ds_fastapi_middleware.utils.internal_traffic"]], "ds_fastapi_middleware.utils.log package": [[8, "ds-fastapi-middleware-utils-log-package"]], "ds_fastapi_middleware.utils.log.audit module": [[8, "module-ds_fastapi_middleware.utils.log.audit"]], "ds_fastapi_middleware.utils.log.stdout module": [[8, "module-ds_fastapi_middleware.utils.log.stdout"]], "ds_fastapi_middleware.utils.usage package": [[9, "ds-fastapi-middleware-utils-usage-package"]], "ds_fastapi_middleware.utils.usage.write module": [[9, "module-ds_fastapi_middleware.utils.usage.write"]]}, "docnames": ["ds_fastapi_middleware", "ds_fastapi_middleware.config", "ds_fastapi_middleware.errors", "ds_fastapi_middleware.middlewares", "ds_fastapi_middleware.models", "ds_fastapi_middleware.utils", "ds_fastapi_middleware.utils.authorization", "ds_fastapi_middleware.utils.aws", "ds_fastapi_middleware.utils.log", "ds_fastapi_middleware.utils.usage", "index", "modules"], "envversion": {"sphinx": 61, "sphinx.domains.c": 3, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 9, "sphinx.domains.index": 1, "sphinx.domains.javascript": 3, "sphinx.domains.math": 2, "sphinx.domains.python": 4, "sphinx.domains.rst": 2, "sphinx.domains.std": 2}, "filenames": ["ds_fastapi_middleware.rst", "ds_fastapi_middleware.config.rst", "ds_fastapi_middleware.errors.rst", "ds_fastapi_middleware.middlewares.rst", "ds_fastapi_middleware.models.rst", "ds_fastapi_middleware.utils.rst", "ds_fastapi_middleware.utils.authorization.rst", "ds_fastapi_middleware.utils.aws.rst", "ds_fastapi_middleware.utils.log.rst", "ds_fastapi_middleware.utils.usage.rst", "index.rst", "modules.rst"], "indexentries": {"appinjector (class in ds_fastapi_middleware.utils.dependency_injection)": [[5, "ds_fastapi_middleware.utils.dependency_injection.AppInjector", false]], "appinjectormodule (class in ds_fastapi_middleware.utils.dependency_injection)": [[5, "ds_fastapi_middleware.utils.dependency_injection.AppInjectorModule", false]], "auditmiddleware (class in ds_fastapi_middleware)": [[0, "ds_fastapi_middleware.AuditMiddleware", false]], "auditmiddleware (class in ds_fastapi_middleware.middlewares)": [[3, "ds_fastapi_middleware.middlewares.AuditMiddleware", false]], "auditmiddleware (class in ds_fastapi_middleware.middlewares.audit)": [[3, "ds_fastapi_middleware.middlewares.audit.AuditMiddleware", false]], "configure() (ds_fastapi_middleware.utils.dependency_injection.appinjectormodule method)": [[5, "ds_fastapi_middleware.utils.dependency_injection.AppInjectorModule.configure", false]], "contextmiddleware (class in ds_fastapi_middleware)": [[0, "ds_fastapi_middleware.ContextMiddleware", false]], "contextmiddleware (class in ds_fastapi_middleware.middlewares)": [[3, "ds_fastapi_middleware.middlewares.ContextMiddleware", false]], "contextmiddleware (class in ds_fastapi_middleware.middlewares.ctx)": [[3, "ds_fastapi_middleware.middlewares.ctx.ContextMiddleware", false]], "create_bad_gateway() (ds_fastapi_middleware.webappexception static method)": [[0, "ds_fastapi_middleware.WebAppException.create_bad_gateway", false]], "create_bad_request() (ds_fastapi_middleware.webappexception static method)": [[0, "ds_fastapi_middleware.WebAppException.create_bad_request", false]], "create_conflict() (ds_fastapi_middleware.webappexception static method)": [[0, "ds_fastapi_middleware.WebAppException.create_conflict", false]], "create_forbidden() (ds_fastapi_middleware.webappexception static method)": [[0, "ds_fastapi_middleware.WebAppException.create_forbidden", false]], "create_gateway_timeout() (ds_fastapi_middleware.webappexception static method)": [[0, "ds_fastapi_middleware.WebAppException.create_gateway_timeout", false]], "create_not_found() (ds_fastapi_middleware.webappexception static method)": [[0, "ds_fastapi_middleware.WebAppException.create_not_found", false]], "create_payload_to_large() (ds_fastapi_middleware.webappexception static method)": [[0, "ds_fastapi_middleware.WebAppException.create_payload_to_large", false]], "create_precondition_failed() (ds_fastapi_middleware.webappexception static method)": [[0, "ds_fastapi_middleware.WebAppException.create_precondition_failed", false]], "create_too_many_request() (ds_fastapi_middleware.webappexception static method)": [[0, "ds_fastapi_middleware.WebAppException.create_too_many_request", false]], "create_unauthorized() (ds_fastapi_middleware.webappexception static method)": [[0, "ds_fastapi_middleware.WebAppException.create_unauthorized", false]], "create_unprocessable_enitity() (ds_fastapi_middleware.webappexception static method)": [[0, "ds_fastapi_middleware.WebAppException.create_unprocessable_enitity", false]], "detail (ds_fastapi_middleware.webappexception property)": [[0, "ds_fastapi_middleware.WebAppException.detail", false]], "dispatch() (ds_fastapi_middleware.auditmiddleware method)": [[0, "ds_fastapi_middleware.AuditMiddleware.dispatch", false]], "dispatch() (ds_fastapi_middleware.contextmiddleware method)": [[0, "ds_fastapi_middleware.ContextMiddleware.dispatch", false]], "dispatch() (ds_fastapi_middleware.middlewares.audit.auditmiddleware method)": [[3, "ds_fastapi_middleware.middlewares.audit.AuditMiddleware.dispatch", false]], "dispatch() (ds_fastapi_middleware.middlewares.auditmiddleware method)": [[3, "ds_fastapi_middleware.middlewares.AuditMiddleware.dispatch", false]], "dispatch() (ds_fastapi_middleware.middlewares.contextmiddleware method)": [[3, "ds_fastapi_middleware.middlewares.ContextMiddleware.dispatch", false]], "dispatch() (ds_fastapi_middleware.middlewares.ctx.contextmiddleware method)": [[3, "ds_fastapi_middleware.middlewares.ctx.ContextMiddleware.dispatch", false]], "dispatch() (ds_fastapi_middleware.middlewares.timeout.timeoutmiddleware method)": [[3, "ds_fastapi_middleware.middlewares.timeout.TimeoutMiddleware.dispatch", false]], "dispatch() (ds_fastapi_middleware.middlewares.timeoutmiddleware method)": [[3, "ds_fastapi_middleware.middlewares.TimeoutMiddleware.dispatch", false]], "dispatch() (ds_fastapi_middleware.middlewares.usage.usagemiddleware method)": [[3, "ds_fastapi_middleware.middlewares.usage.UsageMiddleware.dispatch", false]], "dispatch() (ds_fastapi_middleware.middlewares.usagemiddleware method)": [[3, "ds_fastapi_middleware.middlewares.UsageMiddleware.dispatch", false]], "dispatch() (ds_fastapi_middleware.timeoutmiddleware method)": [[0, "ds_fastapi_middleware.TimeoutMiddleware.dispatch", false]], "dispatch() (ds_fastapi_middleware.usagemiddleware method)": [[0, "ds_fastapi_middleware.UsageMiddleware.dispatch", false]], "ds_fastapi_middleware": [[0, "module-ds_fastapi_middleware", false]], "ds_fastapi_middleware.middlewares": [[3, "module-ds_fastapi_middleware.middlewares", false]], "ds_fastapi_middleware.middlewares.audit": [[3, "module-ds_fastapi_middleware.middlewares.audit", false]], "ds_fastapi_middleware.middlewares.ctx": [[3, "module-ds_fastapi_middleware.middlewares.ctx", false]], "ds_fastapi_middleware.middlewares.timeout": [[3, "module-ds_fastapi_middleware.middlewares.timeout", false]], "ds_fastapi_middleware.middlewares.usage": [[3, "module-ds_fastapi_middleware.middlewares.usage", false]], "ds_fastapi_middleware.utils": [[5, "module-ds_fastapi_middleware.utils", false]], "ds_fastapi_middleware.utils.dependency_injection": [[5, "module-ds_fastapi_middleware.utils.dependency_injection", false]], "ds_fastapi_middleware.utils.internal_traffic": [[5, "module-ds_fastapi_middleware.utils.internal_traffic", false]], "get() (ds_fastapi_middleware.utils.dependency_injection.appinjector method)": [[5, "ds_fastapi_middleware.utils.dependency_injection.AppInjector.get", false]], "is_private_ip() (in module ds_fastapi_middleware.utils.internal_traffic)": [[5, "ds_fastapi_middleware.utils.internal_traffic.is_private_ip", false]], "make() (ds_fastapi_middleware.utils.dependency_injection.withlifetime.base method)": [[5, "ds_fastapi_middleware.utils.dependency_injection.WithLifeTime.Base.make", false]], "make() (ds_fastapi_middleware.utils.dependency_injection.withlifetime.singleton method)": [[5, "ds_fastapi_middleware.utils.dependency_injection.WithLifeTime.Singleton.make", false]], "make() (ds_fastapi_middleware.utils.dependency_injection.withlifetime.transient method)": [[5, "ds_fastapi_middleware.utils.dependency_injection.WithLifeTime.Transient.make", false]], "module": [[0, "module-ds_fastapi_middleware", false], [3, "module-ds_fastapi_middleware.middlewares", false], [3, "module-ds_fastapi_middleware.middlewares.audit", false], [3, "module-ds_fastapi_middleware.middlewares.ctx", false], [3, "module-ds_fastapi_middleware.middlewares.timeout", false], [3, "module-ds_fastapi_middleware.middlewares.usage", false], [5, "module-ds_fastapi_middleware.utils", false], [5, "module-ds_fastapi_middleware.utils.dependency_injection", false], [5, "module-ds_fastapi_middleware.utils.internal_traffic", false]], "register() (ds_fastapi_middleware.utils.dependency_injection.appinjector method)": [[5, "ds_fastapi_middleware.utils.dependency_injection.AppInjector.register", false]], "status_code (ds_fastapi_middleware.webappexception property)": [[0, "ds_fastapi_middleware.WebAppException.status_code", false]], "timeoutmiddleware (class in ds_fastapi_middleware)": [[0, "ds_fastapi_middleware.TimeoutMiddleware", false]], "timeoutmiddleware (class in ds_fastapi_middleware.middlewares)": [[3, "ds_fastapi_middleware.middlewares.TimeoutMiddleware", false]], "timeoutmiddleware (class in ds_fastapi_middleware.middlewares.timeout)": [[3, "ds_fastapi_middleware.middlewares.timeout.TimeoutMiddleware", false]], "to_json() (ds_fastapi_middleware.webappexception method)": [[0, "ds_fastapi_middleware.WebAppException.to_json", false]], "usagemiddleware (class in ds_fastapi_middleware)": [[0, "ds_fastapi_middleware.UsageMiddleware", false]], "usagemiddleware (class in ds_fastapi_middleware.middlewares)": [[3, "ds_fastapi_middleware.middlewares.UsageMiddleware", false]], "usagemiddleware (class in ds_fastapi_middleware.middlewares.usage)": [[3, "ds_fastapi_middleware.middlewares.usage.UsageMiddleware", false]], "webappexception": [[0, "ds_fastapi_middleware.WebAppException", false]], "withlifetime (class in ds_fastapi_middleware.utils.dependency_injection)": [[5, "ds_fastapi_middleware.utils.dependency_injection.WithLifeTime", false]], "withlifetime.base (class in ds_fastapi_middleware.utils.dependency_injection)": [[5, "ds_fastapi_middleware.utils.dependency_injection.WithLifeTime.Base", false]], "withlifetime.singleton (class in ds_fastapi_middleware.utils.dependency_injection)": [[5, "ds_fastapi_middleware.utils.dependency_injection.WithLifeTime.Singleton", false]], "withlifetime.transient (class in ds_fastapi_middleware.utils.dependency_injection)": [[5, "ds_fastapi_middleware.utils.dependency_injection.WithLifeTime.Transient", false]]}, "objects": {"": [[0, 0, 0, "-", "ds_fastapi_middleware"]], "ds_fastapi_middleware": [[0, 1, 1, "", "AuditMiddleware"], [0, 1, 1, "", "ContextMiddleware"], [0, 1, 1, "", "TimeoutMiddleware"], [0, 1, 1, "", "UsageMiddleware"], [0, 3, 1, "", "WebAppException"], [1, 0, 0, "-", "config"], [2, 0, 0, "-", "errors"], [3, 0, 0, "-", "middlewares"], [4, 0, 0, "-", "models"], [5, 0, 0, "-", "utils"]], "ds_fastapi_middleware.AuditMiddleware": [[0, 2, 1, "", "dispatch"]], "ds_fastapi_middleware.ContextMiddleware": [[0, 2, 1, "", "dispatch"]], "ds_fastapi_middleware.TimeoutMiddleware": [[0, 2, 1, "", "dispatch"]], "ds_fastapi_middleware.UsageMiddleware": [[0, 2, 1, "", "dispatch"]], "ds_fastapi_middleware.WebAppException": [[0, 2, 1, "", "create_bad_gateway"], [0, 2, 1, "", "create_bad_request"], [0, 2, 1, "", "create_conflict"], [0, 2, 1, "", "create_forbidden"], [0, 2, 1, "", "create_gateway_timeout"], [0, 2, 1, "", "create_not_found"], [0, 2, 1, "", "create_payload_to_large"], [0, 2, 1, "", "create_precondition_failed"], [0, 2, 1, "", "create_too_many_request"], [0, 2, 1, "", "create_unauthorized"], [0, 2, 1, "", "create_unprocessable_enitity"], [0, 4, 1, "", "detail"], [0, 4, 1, "", "status_code"], [0, 2, 1, "", "to_json"]], "ds_fastapi_middleware.config": [[1, 0, 0, "-", "config"]], "ds_fastapi_middleware.config.config": [[1, 5, 1, "", "load_config"]], "ds_fastapi_middleware.errors": [[2, 3, 1, "", "WebAppException"]], "ds_fastapi_middleware.errors.WebAppException": [[2, 2, 1, "", "create_bad_gateway"], [2, 2, 1, "", "create_bad_request"], [2, 2, 1, "", "create_conflict"], [2, 2, 1, "", "create_forbidden"], [2, 2, 1, "", "create_gateway_timeout"], [2, 2, 1, "", "create_not_found"], [2, 2, 1, "", "create_payload_to_large"], [2, 2, 1, "", "create_precondition_failed"], [2, 2, 1, "", "create_too_many_request"], [2, 2, 1, "", "create_unauthorized"], [2, 2, 1, "", "create_unprocessable_enitity"], [2, 4, 1, "", "detail"], [2, 4, 1, "", "status_code"], [2, 2, 1, "", "to_json"]], "ds_fastapi_middleware.middlewares": [[3, 1, 1, "", "AuditMiddleware"], [3, 1, 1, "", "ContextMiddleware"], [3, 1, 1, "", "TimeoutMiddleware"], [3, 1, 1, "", "UsageMiddleware"], [3, 0, 0, "-", "audit"], [3, 0, 0, "-", "ctx"], [3, 0, 0, "-", "timeout"], [3, 0, 0, "-", "usage"]], "ds_fastapi_middleware.middlewares.AuditMiddleware": [[3, 2, 1, "", "dispatch"]], "ds_fastapi_middleware.middlewares.ContextMiddleware": [[3, 2, 1, "", "dispatch"]], "ds_fastapi_middleware.middlewares.TimeoutMiddleware": [[3, 2, 1, "", "dispatch"]], "ds_fastapi_middleware.middlewares.UsageMiddleware": [[3, 2, 1, "", "dispatch"]], "ds_fastapi_middleware.middlewares.audit": [[3, 1, 1, "", "AuditMiddleware"]], "ds_fastapi_middleware.middlewares.audit.AuditMiddleware": [[3, 2, 1, "", "dispatch"]], "ds_fastapi_middleware.middlewares.ctx": [[3, 1, 1, "", "ContextMiddleware"]], "ds_fastapi_middleware.middlewares.ctx.ContextMiddleware": [[3, 2, 1, "", "dispatch"]], "ds_fastapi_middleware.middlewares.timeout": [[3, 1, 1, "", "TimeoutMiddleware"]], "ds_fastapi_middleware.middlewares.timeout.TimeoutMiddleware": [[3, 2, 1, "", "dispatch"]], "ds_fastapi_middleware.middlewares.usage": [[3, 1, 1, "", "UsageMiddleware"]], "ds_fastapi_middleware.middlewares.usage.UsageMiddleware": [[3, 2, 1, "", "dispatch"]], "ds_fastapi_middleware.models": [[4, 1, 1, "", "AuditPayload"], [4, 1, 1, "", "UsagePayload"], [4, 0, 0, "-", "audit"], [4, 0, 0, "-", "usage"]], "ds_fastapi_middleware.models.AuditPayload": [[4, 6, 1, "", "client_ip"], [4, 6, 1, "", "created_at"], [4, 6, 1, "", "id"], [4, 6, 1, "", "method"], [4, 6, 1, "", "process_time"], [4, 6, 1, "", "status_code"], [4, 6, 1, "", "tenant_id"], [4, 6, 1, "", "url"], [4, 6, 1, "", "user_id"]], "ds_fastapi_middleware.models.UsagePayload": [[4, 6, 1, "", "created_at"], [4, 6, 1, "", "duration"], [4, 6, 1, "", "end_time"], [4, 6, 1, "", "id"], [4, 2, 1, "", "jsonable_dict"], [4, 6, 1, "", "memory_mb"], [4, 6, 1, "", "owner_id"], [4, 6, 1, "", "product_id"], [4, 6, 1, "", "start_time"], [4, 6, 1, "", "tenant_id"], [4, 6, 1, "", "workflow"]], "ds_fastapi_middleware.models.audit": [[4, 1, 1, "", "AuditPayload"]], "ds_fastapi_middleware.models.audit.AuditPayload": [[4, 6, 1, "", "client_ip"], [4, 6, 1, "", "created_at"], [4, 6, 1, "", "id"], [4, 6, 1, "", "method"], [4, 6, 1, "", "process_time"], [4, 6, 1, "", "status_code"], [4, 6, 1, "", "tenant_id"], [4, 6, 1, "", "url"], [4, 6, 1, "", "user_id"]], "ds_fastapi_middleware.models.usage": [[4, 1, 1, "", "UsagePayload"]], "ds_fastapi_middleware.models.usage.UsagePayload": [[4, 6, 1, "", "created_at"], [4, 6, 1, "", "duration"], [4, 6, 1, "", "end_time"], [4, 6, 1, "", "id"], [4, 2, 1, "", "jsonable_dict"], [4, 6, 1, "", "memory_mb"], [4, 6, 1, "", "owner_id"], [4, 6, 1, "", "product_id"], [4, 6, 1, "", "start_time"], [4, 6, 1, "", "tenant_id"], [4, 6, 1, "", "workflow"]], "ds_fastapi_middleware.utils": [[6, 0, 0, "-", "authorization"], [7, 0, 0, "-", "aws"], [5, 0, 0, "-", "dependency_injection"], [5, 0, 0, "-", "internal_traffic"], [8, 0, 0, "-", "log"], [9, 0, 0, "-", "usage"]], "ds_fastapi_middleware.utils.authorization": [[6, 1, 1, "", "Context"], [6, 5, 1, "", "get_or_create_ctx"]], "ds_fastapi_middleware.utils.authorization.Context": [[6, 4, 1, "", "app_id"], [6, 4, 1, "", "app_injector"], [6, 4, 1, "", "auth"], [6, 2, 1, "", "clear_current"], [6, 2, 1, "", "current"], [6, 2, 1, "", "get"], [6, 4, 1, "", "is_customer_admin"], [6, 4, 1, "", "is_global_admin_user"], [6, 4, 1, "", "logger"], [6, 4, 1, "", "request_id"], [6, 2, 1, "", "set_current"], [6, 2, 1, "", "set_current_with_value"], [6, 4, 1, "", "tenant_id"], [6, 4, 1, "", "tenant_name"], [6, 4, 1, "", "tracer"], [6, 4, 1, "", "user"], [6, 2, 1, "", "with_value"]], "ds_fastapi_middleware.utils.aws": [[7, 1, 1, "", "BotoClientFactory"], [7, 0, 0, "-", "client_factory"], [7, 5, 1, "", "publish_message"], [7, 0, 0, "-", "sqs"]], "ds_fastapi_middleware.utils.aws.BotoClientFactory": [[7, 2, 1, "", "get_boto_client"]], "ds_fastapi_middleware.utils.aws.client_factory": [[7, 1, 1, "", "BotoClientFactory"]], "ds_fastapi_middleware.utils.aws.client_factory.BotoClientFactory": [[7, 2, 1, "", "get_boto_client"]], "ds_fastapi_middleware.utils.aws.sqs": [[7, 5, 1, "", "dict_to_message_attributes"], [7, 5, 1, "", "get_sqs_url_by_name"], [7, 5, 1, "", "publish_message"]], "ds_fastapi_middleware.utils.dependency_injection": [[5, 1, 1, "", "AppInjector"], [5, 1, 1, "", "AppInjectorModule"], [5, 1, 1, "", "WithLifeTime"]], "ds_fastapi_middleware.utils.dependency_injection.AppInjector": [[5, 2, 1, "", "get"], [5, 2, 1, "", "register"]], "ds_fastapi_middleware.utils.dependency_injection.AppInjectorModule": [[5, 2, 1, "", "configure"]], "ds_fastapi_middleware.utils.dependency_injection.WithLifeTime": [[5, 1, 1, "", "Base"], [5, 1, 1, "", "Singleton"], [5, 1, 1, "", "Transient"]], "ds_fastapi_middleware.utils.dependency_injection.WithLifeTime.Base": [[5, 2, 1, "", "make"]], "ds_fastapi_middleware.utils.dependency_injection.WithLifeTime.Singleton": [[5, 2, 1, "", "make"]], "ds_fastapi_middleware.utils.dependency_injection.WithLifeTime.Transient": [[5, 2, 1, "", "make"]], "ds_fastapi_middleware.utils.internal_traffic": [[5, 5, 1, "", "is_private_ip"]], "ds_fastapi_middleware.utils.log": [[8, 1, 1, "", "Logger"], [8, 0, 0, "-", "audit"], [8, 5, 1, "", "init"], [8, 0, 0, "-", "stdout"]], "ds_fastapi_middleware.utils.log.Logger": [[8, 6, 1, "", "FORMATTER"], [8, 6, 1, "", "LOGGER"], [8, 2, 1, "", "debug"], [8, 2, 1, "", "error"], [8, 2, 1, "", "info"], [8, 2, 1, "", "setup_logger"], [8, 2, 1, "", "shutdown"], [8, 2, 1, "", "warning"]], "ds_fastapi_middleware.utils.log.audit": [[8, 1, 1, "", "DynamoDbHandler"], [8, 5, 1, "", "init"]], "ds_fastapi_middleware.utils.log.audit.DynamoDbHandler": [[8, 2, 1, "", "emit"], [8, 2, 1, "", "get_or_create_dynamodb_table"]], "ds_fastapi_middleware.utils.log.stdout": [[8, 1, 1, "", "ContextFilter"], [8, 1, 1, "", "Logger"]], "ds_fastapi_middleware.utils.log.stdout.ContextFilter": [[8, 2, 1, "", "filter"]], "ds_fastapi_middleware.utils.log.stdout.Logger": [[8, 6, 1, "", "FORMATTER"], [8, 6, 1, "", "LOGGER"], [8, 2, 1, "", "debug"], [8, 2, 1, "", "error"], [8, 2, 1, "", "info"], [8, 2, 1, "", "setup_logger"], [8, 2, 1, "", "shutdown"], [8, 2, 1, "", "warning"]], "ds_fastapi_middleware.utils.usage": [[9, 0, 0, "-", "write"], [9, 5, 1, "", "write_usage"]], "ds_fastapi_middleware.utils.usage.write": [[9, 5, 1, "", "write_usage"]]}, "objnames": {"0": ["py", "module", "Python module"], "1": ["py", "class", "Python class"], "2": ["py", "method", "Python method"], "3": ["py", "exception", "Python exception"], "4": ["py", "property", "Python property"], "5": ["py", "function", "Python function"], "6": ["py", "attribute", "Python attribute"]}, "objtypes": {"0": "py:module", "1": "py:class", "2": "py:method", "3": "py:exception", "4": "py:property", "5": "py:function", "6": "py:attribute"}, "terms": {"": [0, 3, 7, 8], "0": 7, "05": [4, 7], "1": [0, 3, 8], "10": [7, 8], "17": 7, "20": 8, "2023": 7, "2024": 4, "20an": 7, "20aw": 7, "20boto3": 7, "20servic": 7, "20session": 7, "20then": 7, "20to": 7, "24": 4, "28t11": 4, "2c": 7, "30": [0, 3, 7], "371207": 4, "373209": 4, "3f": 7, "45bf": 4, "504": [0, 3], "59": 4, "65179971": 4, "6645b106c53d": 4, "85ad": 4, "9b094eb5ca8": 7, "A": 5, "By": 5, "If": [7, 8], "Not": [0, 2], "One": 8, "The": [0, 2, 3, 5, 7], "_": [0, 3], "abc": 5, "abil": 8, "abov": [0, 3], "abstract": 5, "accord": 3, "acheiv": 8, "across": 8, "action": [0, 2, 3], "ad": [6, 7], "add": 8, "add_middlewar": 3, "addhandl": 3, "addit": 8, "address": 5, "ae9a": 4, "aim": 6, "all": [0, 3, 6, 8], "allow": 7, "also": 3, "alwai": 5, "an": [5, 6, 7, 8], "ani": [3, 5, 6], "api": [0, 3], "app": [0, 3], "app_id": [5, 6], "app_injector": [5, 6], "appinjector": [0, 3, 5], "appinjectormodul": [0, 5], "appli": 8, "applic": 3, "appropri": 8, "ar": [3, 5, 7, 8], "arg": 5, "argument": 7, "asctim": 8, "aspect": 8, "async": [0, 3, 5, 8], "attribut": 7, "audit": [0, 5, 11], "audit_logg": 3, "auditmiddlewar": [0, 3, 11], "auditpayload": [0, 4], "auth": [5, 6], "authent": 3, "author": [0, 2, 5], "aw": [0, 5], "bad": [0, 2], "base": [0, 2, 3, 4, 5, 6, 7, 8], "basecli": 7, "basehttpmiddlewar": [0, 3], "basic": 5, "becom": 7, "befor": 7, "belong": [5, 7], "ben11keho": 7, "bill": 3, "block": 5, "bodi": 7, "bool": 6, "both": 7, "boto3": 7, "botoclientfactori": [5, 7], "build": 5, "builder": 5, "builder_fn": 5, "call": [0, 3, 5], "call_next": [0, 3], "callabl": [0, 3, 5], "certain": [0, 3], "chang": 7, "check": 5, "class": [0, 3, 4, 5, 6, 7, 8], "classmethod": 6, "clear_curr": [5, 6], "client": 7, "client_factori": [0, 5], "client_ip": [0, 4], "client_typ": 7, "clienterror": 7, "clone": 6, "collect": [0, 3], "com": 7, "common": 8, "config": [0, 11], "configur": [0, 5], "connect": 7, "consol": 8, "construct": 5, "content": 11, "context": [3, 5, 6, 8], "contextfilt": [5, 8], "contextmiddlewar": [0, 3, 11], "convert": 7, "cost": [0, 3], "creat": [0, 3, 5, 7], "create_bad_gatewai": [0, 2, 11], "create_bad_request": [0, 2, 11], "create_conflict": [0, 2, 11], "create_forbidden": [0, 2, 11], "create_gateway_timeout": [0, 2, 11], "create_not_found": [0, 2, 11], "create_payload_to_larg": [0, 2, 11], "create_precondition_fail": [0, 2, 11], "create_too_many_request": [0, 2, 11], "create_unauthor": [0, 2, 11], "create_unprocessable_enit": [0, 2, 11], "created_at": [0, 4], "creation": 6, "ctx": [0, 6, 11], "current": [5, 6], "custom": [3, 8], "d": 8, "daa": 8, "data": [0, 3, 7], "databas": [0, 3], "datetim": 4, "debug": [5, 8], "debugging_info": [0, 2], "dedupl": 7, "deem": 8, "default": [5, 6, 8], "definit": [3, 5], "delai": 7, "delay_tim": 7, "depend": 5, "dependency_inject": [0, 11], "design": 8, "detail": [0, 2, 3, 7, 11], "determin": 8, "dict": [0, 2, 7], "dict_to_message_attribut": [5, 7], "dictionari": 7, "dispatch": [0, 3, 11], "doe": 3, "driven": 8, "durat": [0, 4], "dynamo": 8, "dynamodb": [3, 8], "dynamodbhandl": [3, 5, 8], "each": 5, "emit": [5, 8], "empti": 6, "encapsul": 5, "end_tim": [0, 4], "enforc": 8, "entiti": [0, 2], "error": [0, 3, 5, 7, 8, 11], "especi": 8, "event": 8, "everytim": 5, "exampl": 3, "except": [0, 2], "exist": 3, "face": [0, 3], "factori": [5, 7], "factory_coroutin": 5, "fals": [6, 8], "fastapi": [0, 3], "field": 8, "fifo": 7, "file": 8, "filter": [5, 8], "find": 8, "first": 5, "float": 4, "follow": 3, "format": 8, "formatt": [5, 8], "found": [0, 2], "framework": [0, 3], "from": [0, 3, 8], "func": [5, 8], "function": [0, 3, 5, 9], "futur": 6, "gather": 5, "gener": 8, "get": [0, 5, 6], "get_boto_cli": [5, 7], "get_or_create_ctx": [5, 6], "get_or_create_dynamodb_t": [5, 8], "get_sqs_url_by_nam": [5, 7], "getlogg": 3, "given": 6, "goal": 5, "group": 7, "guarante": 6, "handl": [0, 3, 5], "handler": 8, "header": [0, 2], "help": 8, "here": 8, "hope": 8, "how": [0, 3], "http": 7, "httpexcept": [0, 2], "i": [0, 2, 3, 5, 6, 8], "id": [0, 4, 7, 9], "ignor": 3, "immut": 6, "implement": 5, "import": 8, "improv": 7, "index": 10, "info": [3, 5, 8], "inform": [6, 8], "init": [5, 8], "initi": [7, 8], "inject": 5, "injector": [0, 3, 5], "input": 5, "insert": 8, "instanc": [5, 9], "instanti": 8, "instead": 5, "int": [0, 2, 3, 4, 7], "interfac": 5, "intern": [0, 3], "internal_traff": [0, 11], "internet": [0, 3], "ip": [0, 3, 5], "is_customer_admin": [5, 6], "is_global_admin_us": [5, 6], "is_private_ip": [0, 5], "item": 8, "its": 5, "jsonable_dict": [0, 4], "keep": 3, "kei": [6, 8], "kwarg": [0, 3, 5], "larg": [0, 2], "level": 8, "levelnam": 8, "lifetim": 5, "link": 7, "list": [0, 2], "load_config": [0, 1], "log": [0, 3, 5, 6, 7], "log_level": 8, "logger": [0, 3, 5, 6, 8], "made": [0, 3], "mai": 8, "maintain": 3, "make": 5, "manag": [3, 5], "mani": [0, 2], "mean": 5, "mechan": 8, "medium": 7, "memory_mb": [0, 3, 4], "messag": [0, 2, 7, 8, 9], "message_deduplication_id": 7, "message_group_id": 7, "method": [0, 3, 4, 5, 6], "metric": [3, 9], "middlewar": [0, 6, 9, 11], "miss": 7, "model": [0, 9, 11], "modifi": 8, "modul": [10, 11], "more": 7, "most": 8, "msg": 8, "name": [3, 7, 8], "network": 5, "new": [5, 6], "next": [0, 3], "none": [0, 2, 3, 4, 6, 7, 8], "note": 3, "object": [0, 3, 4, 5, 6, 7, 8], "occur": 3, "one": 5, "onli": 5, "order": 6, "otherwis": 8, "owner_id": [0, 4], "packag": 11, "page": 10, "param": [0, 3, 5, 8, 9], "paramet": [5, 7, 8], "pass": [5, 7], "pattern": [5, 8], "payload": [0, 2], "perform": [0, 2, 3, 7], "permit": [0, 2], "place": 8, "platform": 8, "prefix": 8, "privat": 5, "process": [0, 3, 6], "process_tim": [0, 4], "product_id": [0, 3, 4], "properti": [0, 2, 6], "provid": [5, 6, 7], "publish": 7, "publish_messag": [5, 7], "purpos": 3, "python": 8, "queue": 7, "queue_nam": 7, "queue_url": 7, "quickli": 8, "rais": 7, "reason": [0, 2], "record": [0, 3, 4, 8], "regist": [0, 5], "repres": 5, "request": [0, 2, 3, 6], "request_id": [5, 6], "requir": [5, 7], "respons": [0, 3, 5], "result": 3, "retry_aft": [0, 3], "return": [0, 3, 5, 6, 7, 8, 9], "revis": 3, "s3": 8, "search": 10, "second": 7, "secur": [0, 3], "see": 7, "send": [7, 8], "send_to_s3": 8, "servic": [0, 3, 7, 8, 9], "session": 7, "set": [6, 8], "set_curr": [5, 6], "set_current_with_valu": [5, 6], "setlevel": 3, "setup": 8, "setup_logg": [5, 8], "should": [7, 8], "shutdown": [5, 8], "silo": 8, "singl": 5, "singleton": [0, 5], "somehow": 5, "specif": [5, 7], "specifi": 8, "sq": [0, 5], "standard": 8, "start_tim": [0, 4], "static": [0, 2, 7, 8], "statu": [0, 2], "status_cod": [0, 2, 4, 11], "stdout": [0, 5], "storag": 3, "store": 8, "str": [0, 2, 4, 5, 6, 7, 8], "stream": 8, "streamhandl": 8, "submodul": [0, 11], "subpackag": 11, "system": [3, 8], "tabl": [3, 8], "table_nam": [3, 8], "tag": [7, 8], "take": 5, "talk": 7, "tenant": [0, 3], "tenant_id": [0, 4, 5, 6], "tenant_nam": [5, 6], "test": 3, "text": 7, "them": 7, "therefor": 3, "thi": [0, 2, 3, 5, 6], "threshold": [0, 3], "time": [0, 3, 5], "timeout": [0, 11], "timeoutmiddlewar": [0, 3, 11], "to_json": [0, 2, 11], "token": 7, "too": [0, 2], "trace": 3, "tracer": [5, 6], "traffic": 3, "trail": 3, "transient": [0, 5], "trigger": 3, "true": [5, 8], "type": [5, 7], "unauthor": 3, "uniform": 8, "unprocess": [0, 2], "up": 8, "url": [0, 4, 7], "us": [0, 3, 5, 6, 7, 8], "usag": [0, 5, 8, 11], "usagemiddlewar": [0, 3, 11], "usagepayload": [0, 4, 9], "user": [0, 2, 3, 5, 6, 8], "user_id": [0, 4], "util": [0, 11], "uuid": [0, 3, 4], "valu": 6, "valueerror": 7, "verifi": 5, "visibl": 7, "wa": [0, 3], "warn": [5, 8], "we": 8, "web": [0, 3], "webappexcept": [0, 2, 11], "what": [0, 3, 8], "when": [3, 8], "where": 6, "whether": 5, "which": [0, 3, 5, 8], "why": 7, "with_valu": [5, 6], "within": 3, "withlifetim": [0, 5], "workflow": [0, 4], "wrapper": 8, "write": [0, 3, 5], "write_usag": [5, 9], "written": 3, "you": 7}, "titles": ["ds_fastapi_middleware package", "ds_fastapi_middleware.config package", "ds_fastapi_middleware.errors package", "ds_fastapi_middleware.middlewares package", "ds_fastapi_middleware.models package", "ds_fastapi_middleware.utils package", "ds_fastapi_middleware.utils.authorization package", "ds_fastapi_middleware.utils.aws package", "ds_fastapi_middleware.utils.log package", "ds_fastapi_middleware.utils.usage package", "Welcome to ds-fastapi-middleware\u2019s documentation!", "ds_fastapi_middleware"], "titleterms": {"": 10, "audit": [3, 4, 8], "author": 6, "aw": 7, "client_factori": 7, "config": 1, "content": [0, 1, 2, 3, 4, 5, 6, 7, 8, 9], "ctx": 3, "d": 10, "dependency_inject": 5, "document": 10, "ds_fastapi_middlewar": [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 11], "error": 2, "fastapi": 10, "indic": 10, "internal_traff": 5, "log": 8, "middlewar": [3, 10], "model": 4, "modul": [0, 1, 2, 3, 4, 5, 6, 7, 8, 9], "packag": [0, 1, 2, 3, 4, 5, 6, 7, 8, 9], "sq": 7, "stdout": 8, "submodul": [1, 3, 4, 5, 7, 8, 9], "subpackag": [0, 5], "tabl": 10, "timeout": 3, "usag": [3, 4, 9], "util": [5, 6, 7, 8, 9], "welcom": 10, "write": 9}})